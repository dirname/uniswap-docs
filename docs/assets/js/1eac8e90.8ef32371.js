"use strict";(self.webpackChunk_uniswap_docs=self.webpackChunk_uniswap_docs||[]).push([[9940],{19486:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>i,contentTitle:()=>s,default:()=>c,frontMatter:()=>o,metadata:()=>u,toc:()=>l});var n=r(83117),a=(r(67294),r(3905));const o={id:"library",title:"\u5e93"},s="\u5e93",u={unversionedId:"contracts/v2/reference/smart-contracts/library",id:"contracts/v2/reference/smart-contracts/library",title:"\u5e93",description:"\u4ee3\u7801",source:"@site/i18n/zh-Hans/docusaurus-plugin-content-docs/current/contracts/v2/reference/smart-contracts/04-library.md",sourceDirName:"contracts/v2/reference/smart-contracts",slug:"/contracts/v2/reference/smart-contracts/library",permalink:"/uniswap-docs/contracts/v2/reference/smart-contracts/library",editUrl:"https://github.com/uniswap/uniswap-docs/tree/main/docs/contracts/v2/reference/smart-contracts/04-library.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{id:"library",title:"\u5e93"},sidebar:"contractsSidebar",previous:{title:"Pair (ERC-20)",permalink:"/uniswap-docs/contracts/v2/reference/smart-contracts/Pair-ERC-20"},next:{title:"Router01",permalink:"/uniswap-docs/contracts/v2/reference/smart-contracts/router-01"}},i={},l=[{value:"\u4ee3\u7801",id:"\u4ee3\u7801",level:2},{value:"sortTokens",id:"sorttokens",level:2},{value:"pairFor",id:"pairfor",level:2},{value:"getReserves",id:"getreserves",level:2},{value:"quote",id:"quote",level:2},{value:"getAmountOut",id:"getamountout",level:2},{value:"getAmountIn",id:"getamountin",level:2},{value:"getAmountsOut",id:"getamountsout",level:2},{value:"getAmountsIn",id:"getamountsin",level:2}],p={toc:l};function c(e){let{components:t,...r}=e;return(0,a.kt)("wrapper",(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"\u5e93"},"\u5e93"),(0,a.kt)("h2",{id:"\u4ee3\u7801"},"\u4ee3\u7801"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/Uniswap/uniswap-v2-periphery/blob/master/contracts/libraries/UniswapV2Library.sol"},(0,a.kt)("inlineCode",{parentName:"a"},"UniswapV2Library.sol"))),(0,a.kt)("h1",{id:"\u5185\u90e8\u51fd\u6570"},"\u5185\u90e8\u51fd\u6570"),(0,a.kt)("h2",{id:"sorttokens"},"sortTokens"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-solidity"},"function sortTokens(address tokenA, address tokenB) internal pure returns (address token0, address token1);\n")),(0,a.kt)("p",null,"\u5bf9\u4ee3\u5e01\u5730\u5740\u8fdb\u884c\u6392\u5e8f\u3002"),(0,a.kt)("h2",{id:"pairfor"},"pairFor"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-solidity"},"function pairFor(address factory, address tokenA, address tokenB) internal pure returns (address pair);\n")),(0,a.kt)("p",null,"\u901a\u8fc7v2 SDK\uff0c\u65e0\u9700\u8fdb\u884c\u4efb\u4f55\u5916\u90e8\u8c03\u7528\u5373\u53ef\u8ba1\u7b97\u4e00\u5bf9\u4ee3\u5e01\u7684\u5730\u5740\u3002"),(0,a.kt)("h2",{id:"getreserves"},"getReserves"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-solidity"},"function getReserves(address factory, address tokenA, address tokenB) internal view returns (uint reserveA, uint reserveB);\n")),(0,a.kt)("p",null,"\u5728\u4f20\u9012\u7684\u4ee3\u5e01\u5bf9\u4e0a\u8c03\u7528",(0,a.kt)("a",{parentName:"p",href:"../smart-contracts/pair#getreserves"},"getReserves"),"\uff0c\u5e76\u8fd4\u56de\u6309\u7167\u53c2\u6570\u4f20\u9012\u987a\u5e8f\u6392\u5217\u7684\u7ed3\u679c\u3002"),(0,a.kt)("h2",{id:"quote"},"quote"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-solidity"},"function quote(uint amountA, uint reserveA, uint reserveB) internal pure returns (uint amountB);\n")),(0,a.kt)("p",null,"\u7ed9\u5b9a\u4e00\u4e9b\u8d44\u4ea7\u6570\u91cf\u548c\u50a8\u5907\u91d1\uff0c\u8fd4\u56de\u4ee3\u8868\u7b49\u503c\u7684\u53e6\u4e00\u79cd\u8d44\u4ea7\u7684\u6570\u91cf\u3002"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5728\u8c03\u7528",(0,a.kt)("a",{parentName:"li",href:"../smart-contracts/pair#mint-1"},"mint"),"\u4e4b\u524d\uff0c\u7528\u4e8e\u8ba1\u7b97\u6700\u4f18\u4ee3\u5e01\u6570\u91cf\u3002")),(0,a.kt)("h2",{id:"getamountout"},"getAmountOut"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-solidity"},"function getAmountOut(uint amountIn, uint reserveIn, uint reserveOut) internal pure returns (uint amountOut);\n")),(0,a.kt)("p",null,"\u7ed9\u5b9a\u4e00\u4e2a",(0,a.kt)("em",{parentName:"p"},"\u8f93\u5165"),"\u8d44\u4ea7\u6570\u91cf\uff0c\u6839\u636e\u50a8\u5907\u91d1\u8fd4\u56de\u53e6\u4e00\u4e2a\u8d44\u4ea7\u7684\u6700\u5927",(0,a.kt)("em",{parentName:"p"},"\u8f93\u51fa"),"\u6570\u91cf\uff08\u8003\u8651\u4e86\u8d39\u7528\uff09\u3002"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u7528\u4e8e",(0,a.kt)("a",{parentName:"li",href:"#getamountsout"},"getAmountsOut"),"\u3002")),(0,a.kt)("h2",{id:"getamountin"},"getAmountIn"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-solidity"},"function getAmountIn(uint amountOut, uint reserveIn, uint reserveOut) internal pure returns (uint amountIn);\n")),(0,a.kt)("p",null,"\u6839\u636e\u50a8\u5907\u91d1\uff0c\u8fd4\u56de\u8d2d\u4e70\u7ed9\u5b9a",(0,a.kt)("em",{parentName:"p"},"\u8f93\u51fa"),"\u8d44\u4ea7\u6570\u91cf\u6240\u9700\u7684\u6700\u5c0f",(0,a.kt)("em",{parentName:"p"},"\u8f93\u5165"),"\u8d44\u4ea7\u6570\u91cf\uff08\u8003\u8651\u4e86\u8d39\u7528\uff09\u3002"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u7528\u4e8e",(0,a.kt)("a",{parentName:"li",href:"#getamountsin"},"getAmountsIn"),"\u3002")),(0,a.kt)("h2",{id:"getamountsout"},"getAmountsOut"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-solidity"},"function getAmountsOut(uint amountIn, address[] memory path) internal view returns (uint[] memory amounts);\n")),(0,a.kt)("p",null,"\u7ed9\u5b9a\u4e00\u4e2a",(0,a.kt)("em",{parentName:"p"},"\u8f93\u5165"),"\u8d44\u4ea7\u6570\u91cf\u548c\u4e00\u7cfb\u5217\u4ee3\u5e01\u5730\u5740\uff0c\u901a\u8fc7\u4f9d\u6b21\u8c03\u7528\u8def\u5f84\u4e2d\u6bcf\u5bf9\u4ee3\u5e01\u5730\u5740\u7684",(0,a.kt)("a",{parentName:"p",href:"#getreserves"},"getReserves"),"\uff0c\u5e76\u4f7f\u7528\u8fd9\u4e9b\u6765\u8c03\u7528",(0,a.kt)("a",{parentName:"p",href:"#getamountout"},"getAmountOut"),"\uff0c\u8ba1\u7b97\u6240\u6709\u540e\u7eed\u6700\u5927",(0,a.kt)("em",{parentName:"p"},"\u8f93\u51fa"),"\u4ee3\u5e01\u6570\u91cf\u3002"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5728\u8c03\u7528",(0,a.kt)("a",{parentName:"li",href:"../smart-contracts/pair#swap-1"},"swap"),"\u4e4b\u524d\uff0c\u7528\u4e8e\u8ba1\u7b97\u6700\u4f18\u4ee3\u5e01\u6570\u91cf\u3002")),(0,a.kt)("h2",{id:"getamountsin"},"getAmountsIn"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-solidity"},"function getAmountsIn(address factory, uint amountOut, address[] memory path) internal view returns (uint[] memory amounts);\n")),(0,a.kt)("p",null,"\u7ed9\u5b9a\u4e00\u4e2a",(0,a.kt)("em",{parentName:"p"},"\u8f93\u51fa"),"\u8d44\u4ea7\u6570\u91cf\u548c\u4e00\u7cfb\u5217\u4ee3\u5e01\u5730\u5740\uff0c\u901a\u8fc7\u4f9d\u6b21\u8c03\u7528\u8def\u5f84\u4e2d\u6bcf\u5bf9\u4ee3\u5e01\u5730\u5740\u7684",(0,a.kt)("a",{parentName:"p",href:"#getreserves"},"getReserves"),"\uff0c\u5e76\u4f7f\u7528\u8fd9\u4e9b\u6765\u8c03\u7528",(0,a.kt)("a",{parentName:"p",href:"#getamountin"},"getAmountIn"),"\uff0c\u8ba1\u7b97\u6240\u6709\u524d\u5bfc\u6700\u5c0f",(0,a.kt)("em",{parentName:"p"},"\u8f93\u5165"),"\u4ee3\u5e01\u6570\u91cf\u3002"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5728\u8c03\u7528",(0,a.kt)("a",{parentName:"li",href:"../smart-contracts/pair#swap-1"},"swap"),"\u4e4b\u524d\uff0c\u7528\u4e8e\u8ba1\u7b97\u6700\u4f18\u4ee3\u5e01\u6570\u91cf\u3002")))}c.isMDXComponent=!0},3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>d});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var i=n.createContext({}),l=function(e){var t=n.useContext(i),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},p=function(e){var t=l(e.components);return n.createElement(i.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,p=u(e,["components","mdxType","originalType","parentName"]),m=l(r),d=a,k=m["".concat(i,".").concat(d)]||m[d]||c[d]||o;return r?n.createElement(k,s(s({ref:t},p),{},{components:r})):n.createElement(k,s({ref:t},p))}));function d(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,s=new Array(o);s[0]=m;var u={};for(var i in t)hasOwnProperty.call(t,i)&&(u[i]=t[i]);u.originalType=e,u.mdxType="string"==typeof e?e:a,s[1]=u;for(var l=2;l<o;l++)s[l]=r[l];return n.createElement.apply(null,s)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"}}]);