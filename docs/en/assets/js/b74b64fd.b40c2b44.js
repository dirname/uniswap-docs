"use strict";(self.webpackChunk_uniswap_docs=self.webpackChunk_uniswap_docs||[]).push([[2486],{82549:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>n,metadata:()=>s,toc:()=>p});var o=r(83117),i=(r(67294),r(3905));const n={id:"range-orders",title:"Range Orders",sidebar_position:4},a=void 0,s={unversionedId:"concepts/protocol/range-orders",id:"concepts/protocol/range-orders",title:"Range Orders",description:"Customizable liquidity positions, along with single-sided asset provisioning, allow for a new style of swapping with automated market makers: the range order.",source:"@site/docs/concepts/protocol/range-orders.md",sourceDirName:"concepts/protocol",slug:"/concepts/protocol/range-orders",permalink:"/uniswap-docs/en/concepts/protocol/range-orders",editUrl:"https://github.com/uniswap/uniswap-docs/tree/main/docs/concepts/protocol/range-orders.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{id:"range-orders",title:"Range Orders",sidebar_position:4},sidebar:"conceptsSidebar",previous:{title:"Oracle",permalink:"/uniswap-docs/en/concepts/protocol/oracle"},next:{title:"Swaps",permalink:"/uniswap-docs/en/concepts/protocol/swaps"}},l={},p=[{value:"Possibilities of Range orders",id:"possibilities-of-range-orders",level:2},{value:"Take-Profit Orders",id:"take-profit-orders",level:3},{value:"Buy Limit Orders",id:"buy-limit-orders",level:3},{value:"Buy Stop Orders",id:"buy-stop-orders",level:3},{value:"Stop-Loss Orders",id:"stop-loss-orders",level:3},{value:"Fees",id:"fees",level:2}],c={toc:p};function d(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,o.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Customizable liquidity positions, along with single-sided asset provisioning, allow for a new style of swapping with automated market makers: the range order."),(0,i.kt)("p",null,"In typical order book markets, anyone can easily set a limit order: to buy or sell an asset at a specific predetermined price, allowing the order to be filled at an indeterminate time in the future."),(0,i.kt)("p",null,"With Uniswap V3, one can approximate a limit order by providing a single asset as liquidity within a specific range. Like traditional limit orders, range orders may be set with the expectation they will execute at some point in the future, with the target asset available for withdrawal after the spot price has crossed the full range of the order."),(0,i.kt)("p",null,"Unlike some markets where limit orders may incur fees, the range order maker generates fees while the order is filled. This is due to the range order technically being a form of liquidity provisioning rather than a typical swap."),(0,i.kt)("h2",{id:"possibilities-of-range-orders"},"Possibilities of Range orders"),(0,i.kt)("p",null,"The nature of AMM design makes some styles of limit orders possible, while others cannot be replicated. The following are four examples of range orders and their traditional counterparts; the first two are possible, the second two are not."),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"One important distinction: range orders, unlike traditional limit orders, will be ",(0,i.kt)("strong",{parentName:"p"},"unfilled")," if the spot price crosses the given range and then reverses to recross in the opposite direction before the target asset is withdrawn. While you will be earning LP fees during this time, if the goal is to exit fully in the desired destination asset, you will need to keep an eye on the order and either manually remove your liquidity when the order has been filled or use a third party position manager service to withdraw on your behalf.")),(0,i.kt)("h3",{id:"take-profit-orders"},"Take-Profit Orders"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"The current price of a DAI / ETH pool is 1,500 DAI / ETH. You would like to sell your ETH for DAI when the price of ETH reaches 1,600 DAI / ETH. This is possible, as the price space above the spot price is denominated in the higher valued asset, ETH. You can provide ETH at a price of 1,600 DAI / ETH and have the order filled when the spot price crosses your position.")),(0,i.kt)("img",{src:r(31521).Z,alt:"RangeOrder1",width:"45%",height:"45%"}),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",(0,i.kt)("img",{src:r(84224).Z,alt:"RangeOrder1",width:"45%",height:"45%"}),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"buy-limit-orders"},"Buy Limit Orders"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"The Current price of a DAI / ETH pool is 1,500 DAI / ETH. You expect that ETH will rebound after it drops to 1,000 at the next market downturn, so you would like to place a range order swapping DAI to ETH at the price of 1,000 DAI / ETH. This is possible, as the price space below the spot price is denominated in the lower-priced asset, DAI. You can provide DAI at the price of 1,000 DAI / ETH, which will be swapped for ETH when the spot price of ETH drops past 1,000 DAI / ETH.")),(0,i.kt)("p",null,"As the above examples show, in Uniswap V3, the two paired assets in a given pool are separated above and below the spot price, with the higher price asset available above the spot price and the lower-priced asset below."),(0,i.kt)("p",null,"The following examples show limit order styles that are unable to be replicated due to the separation of assets in price space."),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"buy-stop-orders"},"Buy Stop Orders"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"The current price of a DAI / ETH pool is 1,500 DAI / ETH. You expect the price of ETH to rocket up to 3,000 once it hits 2,000 DAI/ ETH, So you would like to place a range order from DAI to ETH at a price of 2,000 DAI/ETH. This is not possible as the price space above 1,500 DAI / ETH is denominated in ETH - and thus, you cannot provide the DAI necessary at your desired price to be swapped into ETH.")),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"stop-loss-orders"},"Stop-Loss Orders"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"The current price of a DAI / ETH pool is 1,500 DAI / ETH. You expect once the price of ETH drops to below 1,000, it will tank to 200. So you would like to place a range order from ETH to DAI at a price of 1,000. This is not possible as the price space below the spot price is denominated in DAI, and so you cannot allocate the ETH necessary at 1,000 to be swapped into DAI.")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"fees"},"Fees"),(0,i.kt)("p",null,"The fees due to your liquidity position will be denominated in both tokens of the given pair. In any of the above examples, after swapping ETH for DAI, or DAI for ETH, a small amount of both ETH and DAI will be due to your account as liquidity provisioning rewards."),(0,i.kt)("p",null,"Approaches to concentration when setting range orders are up to the user. Selecting a wider range may generate more fees if there is price churn within your range, at the cost of increasing the risk of having your order unfilled if the spot price reverses before completing your full range."))}d.isMDXComponent=!0},3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>h});var o=r(67294);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,o,i=function(e,t){if(null==e)return{};var r,o,i={},n=Object.keys(e);for(o=0;o<n.length;o++)r=n[o],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)r=n[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var l=o.createContext({}),p=function(e){var t=o.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},c=function(e){var t=p(e.components);return o.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var r=e.components,i=e.mdxType,n=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(r),h=i,f=u["".concat(l,".").concat(h)]||u[h]||d[h]||n;return r?o.createElement(f,a(a({ref:t},c),{},{components:r})):o.createElement(f,a({ref:t},c))}));function h(e,t){var r=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var n=r.length,a=new Array(n);a[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,a[1]=s;for(var p=2;p<n;p++)a[p]=r[p];return o.createElement.apply(null,a)}return o.createElement.apply(null,r)}u.displayName="MDXCreateElement"},31521:(e,t,r)=>{r.d(t,{Z:()=>o});const o=r.p+"assets/images/RangeOrder1-b9d8771ff290b67b408790362ac6838e.png"},84224:(e,t,r)=>{r.d(t,{Z:()=>o});const o=r.p+"assets/images/RangeOrder2-9578c6d42b3b8d3d062d0956aee84f1c.png"}}]);