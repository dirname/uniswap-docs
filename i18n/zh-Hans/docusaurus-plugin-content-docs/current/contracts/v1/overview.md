---
id: overview
title: 概览
sidebar_position: 1
---

# Uniswap V1 智能合约

Uniswap V1 是该协议的第一个版本，于2018年11月在Devcon 4上[推出](https://twitter.com/haydenzadams/status/1058376395108376577)。由于其无需许可的特性，只要以太坊存在，它就会一直存在。

Uniswap 协议设计时以简洁性为出发点，为在以太坊上无缝交换ERC20代币提供了一个接口。通过消除不必要的租金抽取形式和中间商，它允许更快、更高效地进行交易。在做出权衡的地方，去中心化、抗审查性和安全性被优先考虑。

Uniswap 是开源的，作为一个公共物品运作。没有中央代币或平台费用。早期投资者、采用者或开发者不会得到特殊待遇。代币上市是开放且免费的。所有智能合约功能都是公开的，所有升级都是可选加入的。

这个网站将作为Uniswap的项目概览 - 解释它是如何工作的，如何使用它，以及如何在其基础上构建。这些文档正在积极开发中，并将持续添加更多信息。

# V1 特性

- 使用Uniswap [工厂](https://github.com/Uniswap/uniswap-v1/blob/master/contracts/uniswap_factory.vy)为任何ERC20代币添加支持
- 加入流动性池来收集ETH-ERC20对的费用
- 利用[常数乘积公式](https://github.com/runtimeverification/verified-smart-contracts/blob/uniswap/uniswap/x-y-k.pdf)进行流动性敏感的自动化定价
- 在不包装的情况下用ETH换取任何ERC20
- 在单一交易中将任何ERC20换成任何ERC20
- 在单一交易中进行交易并将资金转到不同的地址
- 比任何去中心化交易所更低的Gas成本
- 支持私人和定制的Uniswap交易所
- 使用ENS从任何钱包购买ERC20代币
- 使用Vyper编写的[部分验证](https://github.com/runtimeverification/verified-smart-contracts/tree/uniswap/uniswap)智能合约
- 移动优化的开源[前端实现](https://github.com/Uniswap/uniswap-interface)
- 通过[Ethereum Foundation补助](https://blog.ethereum.org/2018/08/17/ethereum-foundation-grants-update-wave-3/)资助

# 资源

- [官方网站](https://uniswap.org)
- [GitHub](https://github.com/Uniswap)
- [Twitter](https://twitter.com/Uniswap)
- [Reddit](https://www.reddit.com/r/Uniswap)
- [电子邮件](mailto:contact@uniswap.org)
- [白皮书](https://hackmd.io/s/HJ9jLsfTz)

# 它是如何工作的

Uniswap 由一系列的ETH-ERC20交换合约组成。每种ERC20代币恰好有一个交换合约。如果一个代币尚未有交换合约，任何人都可以使用Uniswap工厂合约创建它。工厂充当公共注册表，用于查找系统中添加的所有代币和交换地址。

每个交换合约都持有ETH和相关ERC20代币的储备。任何人都可以在交易所成为流动性提供者并贡献其储备。这不同于买卖；它需要存入等值的ETH和相关ERC20代币。流动性在所有提供商之间共享，内部的"池代币"（ERC20）用于追踪每位提供者的相对贡献。当流动性存入系统时会铸造池代币，任何时候都可以燃烧它们以提取储备的一份比例。

交换合约是在ETH-ERC20对之间的自动做市商。交易者可以通过增加一方的流动性储备并从另一方的储备中提取来在两个方向上进行兑换。由于ETH是所有ERC20交易所的通用配对，它可以作为中介，允许在单一交易中直接进行ERC20-ERC20交易。用户可以在收到购买的代币时指定接收地址，如果他们希望在与进行交易不同的地址接收的话。

Uniswap 使用"常数乘积"市场做市公式，根据ETH和ERC20储备的相对规模以及传入交易对这一比率的影响来设定汇率。出售ETH以换取ERC20代币会增加ETH储备的大小并减少ERC20储备的大小。这会改变储备比率，使后续交易中ERC20代币相对于ETH的价格上升。相对于储备总规模的交易越大，价格滑点就越多。本质上，交换合约利用开放金融市场来决定一对的价值，并将其作为市场策略。

从每次交易中收取一小笔流动性提供者费用\(0.30%\)，并添加到储备中。虽然ETH-ERC20储备比一直在变化，但费用确保了每次交易后总储备的组合大小都会增加。这对于流动性提供者来说是一种保证的回报，当他们燃烧他们的池代币来提取其在总储备中的份额时会获得这部分收入。价格波动带来的套利机会应该会推动稳定的交易流通过系统，从而增加产生的费用收入。

由于Uniswap完全在链上运行，价格可能会在交易签名和被包含在区块中之间发生变化。交易者可以通过指定卖单上的最小购买量或买单上的最大卖出量来限制价格波动。这相当于限价订单，如果未被填满则会自动取消。也可以设置交易截止时间，如果执行速度不够快，则会取消订单。

每个代币只能向工厂注册一个交易所的原因是为了鼓励提供商将他们的流动性汇集到单一储备中。然而，Uniswap内置了使用来自工厂的公共池作为交易的一方，而在另一方使用用户指定的自定义池来进行ERC20-to-ERC20交易的支持。自定义池可能有基金经理，使用替代定价机制，移除流动性提供者费用，集成复杂的基于fomo的三维庞氏骗局等等。它们只需要实现Uniswap接口并接受ETH作为中介资产即可。自定义池不具备公共池同样的安全属性。建议用户只与经过审计的、开源智能合约交互。

升级抗审查的、去中心化的智能合约很困难。如果系统有重大改进，将发布新版本。流动性提供者可以选择迁移到新系统或留在旧系统中。如果可能，新版本将向后兼容，并能够与旧版本类似自定义池那样进行ERC20-to-ERC20交易。

# 如何使用它

[uniswap.org](https://uniswap.org)是Uniswap协议的入口页面。它描述了项目并引导用户前往他们需要去的地方。

Uniswap智能合约存在于以太坊上。任何人都可以直接与它们交互。

Uniswap前端是一个开源界面，旨在改善用户在与智能合约交互时的体验。任何人都可以使用源代码托管一个界面，或构建自己的界面。托管的界面独立于Uniswap，并应遵守其司法管辖区的法律和法规。