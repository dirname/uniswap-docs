---
id: intro-to-v4
title: Uniswap V4 简介
sidebar_position: 0.5
---

Uniswap V4，作为 Uniswap 协议的最新版本，是去中心化交易所（DEX）和自动做市商（AMM）领域的一大进步。以下是 Uniswap V4 的关键特性：

**通过 Hooks 实现定制性：** Uniswap V4 引入了一项名为“Hooks”的新功能，实质上是可附加到流动性池的智能合约。这些 Hooks 允许高度定制化，使开发者能够在池生命周期的不同阶段实施特定功能，如在交换或流动性修改前后。

例如，Hooks 可以实现订单类型（即限价单），量身定制的预言机，或自定义的 AMM 曲线。Hooks 的灵活性为广泛的创新打开了大门，同时保持了平台的核心效率。

**用于提高效率的 Singleton 合约：** Uniswap V4 中的一个重大架构变化是引入了 Singleton 合约。在先前的版本中，每对代币都需要一个单独的智能合约，导致交易费用增加，尤其是在多跳交易中。Singleton 合约模型将所有池整合到单一合约中，显著降低了交易和池创建的 gas 费用。这种模型允许更高效的多跳交易，因为代币无需在多个合约之间转移。此外，在 V4 中创建新池的 gas 费用比 V3 便宜 99%，降低了设立新池的门槛。

**闪电会计系统：** Uniswap V4 的另一个创新特性是“闪电会计”系统。该系统允许用户在一个交易中高效地串联多个操作，如交换并添加流动性。系统追踪进出代币的净余额；在交易结束时，合约验证所有债务是否已清偿。如果用户未清偿其债务，整个交易将回滚，确保安全性和效率。这一系统在概念上类似于闪电贷，是减少平台上的 gas 费用并增强交易效率努力的一部分。

**无限的费用层级：** Uniswap V4 支持各种流动性池的无限费用层级。这种灵活性使得能够更精准地满足多样化的资产和交易策略需求。每个池可以有自己的独特费用层级，优化平台对更广泛用户群体和市场需求的吸引力。

**原生 ETH 支持：** Uniswap V4 通过启用直接与原生 ETH 交易对，提升了用户体验，消除了对 WETH（包装 ETH）的需求。这种简化使得交易流程更加顺畅，降低了交易成本。

**社区驱动的开发与创新：** Uniswap V4 强调社区驱动的开发和创新方式。自从代码发布以来，已有积极的社区参与，许多问题、拉取请求以及独特的功能想法由用户贡献。协议设计鼓励创新，让全球社区塑造 AMM 的未来。