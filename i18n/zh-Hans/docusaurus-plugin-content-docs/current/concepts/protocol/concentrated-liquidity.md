---
id: concentrated-liquidity
title: 集中流动性
sidebar_position: 1
---

  <div>
  <video width="100%" height="100%" playsInline controls loop>
  <source src="https://gateway.pinata.cloud/ipfs/QmTf6EueKk5ZJ2KQwt1ZCHxRaogYVRci2U5uKRo8NeCmoB" />
  您的浏览器不支持视频标签。
  </video>
  </div>

---

## 引言

Uniswap v3 的核心理念是集中流动性：流动性在自定义价格范围内分配。
在早期版本中，流动性均匀分布在从 0 到无穷大的价格曲线之间。

这种先前的均匀分布允许交易在整个价格区间（0, ∞）内进行，而不会损失任何流动性。然而，在许多资金池中，大部分的流动性实际上从未被使用。

以稳定币对为例，两种资产之间的相对价格保持相对恒定。稳定币对之外的流动性很少被触及。例如，v2 DAI/USDC 对只用了大约 0.50% 的总可用资本来处理介于 $0.99 和 $1.01 之间的交易，这是流动性提供者（LP）预期交易量最大、从而能赚取最多费用的价格范围。

通过 v3，流动性提供者可以将他们的资本集中在比 (0, ∞) 更小的价格区间内。在一个稳定币与稳定币的配对中，例如，一个 LP 可能选择仅将资本分配到 0.99 - 1.01 的范围。因此，交易者在中间价格附近可以获得更深的流动性，而 LP 可以用更少的资本赚取更多的交易费用。我们将流动性集中在有限区间内的位置称为“仓位”。每个资金池中，LP 可以拥有多个不同的仓位，创建反映每位 LP 偏好的个性化价格曲线。

## 活跃流动性

随着资产价格的上涨或下跌，它可能会超出 LP 在某个仓位中设定的价格界限。当价格退出仓位的区间时，该仓位的流动性不再活跃，也不再赚取费用。

随着价格向一个方向移动，LP 获得更多的一种资产，因为交换者需要另一种资产，直到他们的全部流动性只包含一种资产。（在 v2 中，我们通常看不到这种行为，因为 LP 很少达到两种资产价格的上限或下限，即 0 和 ∞）。如果价格重新进入区间，流动性再次变得活跃，范围内的 LP 又开始赚取费用。

重要的是，LP 可以根据自己的判断自由创建尽可能多的仓位，每个仓位都有自己的价格区间。集中流动性作为一种机制，让市场决定合理的流动性分布，理性的 LP 被激励去集中他们的流动性，同时确保他们的流动性保持活跃。

## 点位

为了实现集中流动性，原本连续的价格空间光谱已经被点位分割。

点位是价格空间中离散区域之间的边界。点位之间的距离设置为，无论在价格空间中的哪个点，增加或减少 1 个点位都代表价格增加或减少了 0.01%。

点位作为流动性的仓位边界。当创建一个仓位时，提供者必须选择将代表其仓位边界的下限和上限点位。

在交易过程中，随着现货价格的变化，资金池合约会持续地将出站资产交换为入站资产，逐渐消耗当前点位区间[^1]内的所有可用流动性，直到达到下一个点位。此时，合约切换到新的点位，并激活任何在新活动点位处有边界的仓位中的休眠流动性。

虽然每个资金池都有相同数量的基本点位，但实际上只有其中一部分能够作为活动点位。由于 v3 智能合约的性质，点位间距直接与交易费用相关。较低的费用层级允许更紧密的潜在活动点位，而较高的费用允许相对较宽的潜在活动点位间距。

虽然非活动点位在交易中对交易成本没有影响，但穿过活动点位确实会增加穿过它的交易的成本，因为点位穿越会激活任何使用给定点位作为边界的新仓位内的流动性。

在资本效率至关重要的领域，如稳定币对，更窄的点位间距增加了流动性供应的粒度，很可能在交易时降低价格冲击 — 结果是稳定币交易显著改善的价格。

对于费用级别及其与点位间距的相关性更多信息，请参阅 [白皮书](https://uniswap.org/whitepaper-v3.pdf)。

[^1]: 点位区间指的是两个最近活动点位之间的价格空间区域。